<div class="row">
    <div class="col-12">
        <div class="text-center">
            <h3 class="title-ops">
              {{'MY_OPERATIONS.TITLE' | translate}}
            </h3>
          </div>
    </div>
</div>
<div class="row">
    <div class="col-12 d-flex justify-content-start justify-content-lg-end">
        <button class="btn btn-mosaico-outline-secondary" (click)="reloadOperations()"><i
            class="fas fa-sync text-dark"></i>{{'MY_OPERATIONS.ACTIONS.REFRESH' | translate}}</button>
    </div>
</div>
<div class="row">
    <div class="col-12">
        <div class="table-responsive table-responsive-xs transactions-table">
            <p-table [value]="operations" [lazy]="true" (onLazyLoad)="fetchOperations($event)"
                [paginator]="true" [rows]="pageSize" [totalRecords]="totalRecords"
                [loading]="isLoading" styleClass="table align-middle gs-0 gy-4">
                <ng-template pTemplate="header">
                    <tr>
                        <th class="min-w-150px tr">{{'MY_OPERATIONS.TABLE.HASH' | translate}}</th>
                        <th class="min-w-150px tr">{{'MY_OPERATIONS.TABLE.TYPE' | translate}}</th>
                        <th class="min-w-150px tr">{{'MY_OPERATIONS.TABLE.STATE' | translate}}</th>
                        <th class="min-w-150px tr">{{'MY_OPERATIONS.TABLE.CREATED_AT' | translate}}</th>
                        <th class="min-w-150px tr">{{'MY_OPERATIONS.TABLE.FINISHED_AT' | translate}}</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-rowIndex="rowIndex" let-operation>
                    <tr>
                        <td class="text-center">
                            <a class="text-hover-primary cursor-pointer" (click)="redirectToEtherscan(operation)">{{operation.transactionHash | addressType}}</a>
                        </td>
                        <td class="text-center">
                            {{operation.type}}
                        </td>
                        <td class="text-center">
                            {{operation.state}}
                        </td>
                        <td class="text-center">
                            {{operation.createdAt| date : 'dd.MM.yyyy, HH:mm'}}
                        </td>
                        <td class="text-center">
                            <span *ngIf="operation.finishedAt && operation.finishedAt.length > 0">{{operation.finishedAt | date : 'dd.MM.yyyy, HH:mm'}}</span>
                        </td>
                    </tr>
                </ng-template>
                <ng-template pTemplate="emptymessage">
                    <tr>
                        <td colspan="12" class="text-center">
                            <h4>{{'MY_OPERATIONS.NO_ITEMS' | translate}}</h4>
                        </td>
                    </tr>
                    <tr>
                </ng-template>
            </p-table>
        </div>
    </div>
</div>